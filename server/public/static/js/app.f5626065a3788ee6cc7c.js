webpackJsonp([1],{NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[i("nav",{staticClass:"navbar navbar-expand-md navbar-dark"},[i("div",{staticClass:"container"},[i("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[i("i",{staticClass:"material-icons dp48 large"},[t._v("account_balance")])]),t._v(" "),i("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:t.toggleMobileNav}},[i("span",{staticClass:"navbar-toggler-icon"})]),t._v(" "),i("div",{staticClass:"collapse navbar-collapse",class:{show:t.isMobileNavExpanded},attrs:{id:"navbarSupportedContent"}},[i("ul",{staticClass:"navbar-nav ml-auto",on:{click:t.toggleMobileNav}},[i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t._v(" "),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:"Items"}}},[t._v("Items")])],1)])])],1)])])},staticRenderFns:[]},a=i("VU/8")({name:"Header",data:function(){return{isMobileNavExpanded:!1}},methods:{toggleMobileNav:function(){this.isMobileNavExpanded=!this.isMobileNavExpanded}}},n,!1,null,null,null).exports,o={name:"Footer",data:function(){return{copyRightYear:(new Date).getFullYear()}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container"},[e("span",{staticClass:"copyright"},[this._v("Â© "+this._s(this.copyRightYear)+" Copyright Text")]),this._v(" "),e("span",{staticClass:"float-right"},[this._v("Place footer content here.")])])])},staticRenderFns:[]},c=i("VU/8")(o,r,!1,null,null,null).exports,l=i("Dd8w"),u=i.n(l),d=i("NYxO"),m={name:"Toasts",computed:Object(d.d)("toasts",{toasts:function(t){return t.toasts}}),methods:u()({},Object(d.b)("toasts",["removeToast"]))},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition-group",{staticClass:"toasts-container",attrs:{name:"toast",tag:"div"}},t._l(t.toasts,function(e){return i("div",{key:e.id,class:["vue-toast","toast-"+e.type]},[t._v("\n    "+t._s(e.text)+"\n    "),i("a",{staticClass:"toast-close right",on:{click:function(i){t.removeToast(e)}}},[i("i",{staticClass:"material-icons"},[t._v("close")])])])}))},staticRenderFns:[]},p={name:"App",components:{Header:a,Footer:c,Toasts:i("VU/8")(m,v,!1,null,null,null).exports},data:function(){return{modalComponent:void 0,modalComponentProps:{}}},mounted:function(){var t=this;this.$root.$on("showModal",function(e){t.modalComponent=e.component,t.modalComponentProps=e.props})}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("main",[e("router-view")],1),this._v(" "),e("Footer"),this._v(" "),e(this.modalComponent,this._b({tag:"component"},"component",this.modalComponentProps,!1)),this._v(" "),e("Toasts")],1)},staticRenderFns:[]},f=i("VU/8")(p,_,!1,null,null,null).exports,h=i("/ocq"),g=i("mvHQ"),T=i.n(g);var C={name:"Modal",mounted:function(){var t=this;document.addEventListener("keydown",function(e){27===e.keyCode&&t.close()})},methods:{close:function(){this.$emit("close")}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask",on:{click:this.close}},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container",on:{click:function(t){t.stopPropagation()}}},[this._t("default"),this._v(" "),e("a",{staticClass:"modal-close right",on:{click:this.close}},[e("i",{staticClass:"material-icons"},[this._v("close")])])],2)])])])},staticRenderFns:[]},S=i("VU/8")(C,b,!1,null,null,null).exports,E={props:["options"],components:{Modal:S},methods:{close:function(){w(this.$root)}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{on:{close:t.close}},[t.options.title?i("h2",[t._v(t._s(t.options.title))]):t._e(),t._v(" "),i("p",{staticClass:"mt0"},[t._v(t._s(t.options.message))]),t._v(" "),t.options.actions?i("div",t._l(t.options.actions,function(e){return i("span",{key:e.label,staticClass:"mr-2"},[i("button",{on:{click:function(i){e.cancel?t.close():e.callback()}}},[t._v(t._s(e.label))])])})):t._e()])},staticRenderFns:[]},I=i("VU/8")(E,y,!1,null,null,null).exports;function x(t,e,i){t.$emit("showModal",{component:e,props:i})}function w(t){x(t,void 0,{})}function A(t,e){x(t,I,{options:e})}var k={500:"Error occurred, please try again later",404:"Site unavailable, please try again later",401:"Unauthorized",network:"Network error, please try again later",default:"Unexpected error occurred, please try again later"},U={noItems:"There are no items at this time.",editSuccess:"Item has been saved succesfully.",deleteSuccess:"Item has been deleted succesfully."};function L(t){return t.ok?null:t.toString().includes("TypeError:")?k.network:k[t.status]||k.default}var O={name:"Home",methods:{showLinkInfo:function(){var t={title:"Link Message",message:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",actions:[{label:"Yes",callback:function(){console.log("selected yes")}},{label:"No",cancel:!0}]};A(this.$root,t)}}},V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container page-home"},[i("section",{staticClass:"mt-3"},[i("div",{staticClass:"row"},[t._m(0),t._v(" "),i("div",{staticClass:"col-md"},[i("div",{staticClass:"card"},[t._m(1),t._v(" "),i("div",{staticClass:"card-body"},[t._m(2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"card-action"},[i("a",{on:{click:t.showLinkInfo}},[t._v("This is a link")])])])])])])]),t._v(" "),t._m(4)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md"},[e("h1",[this._v("Home")]),this._v(" "),e("p",[this._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")]),this._v(" "),e("p",[this._v("Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-image"},[e("img",{staticClass:"img-fluid",attrs:{src:"http://via.placeholder.com/800x200"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-title"},[e("strong",[this._v("Card title")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-text"},[e("p",[this._v("I am a very simple card. I am good at containing small bits of information.\n              I am convenient because I require little markup to use effectively.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md text-center"},[i("i",{staticClass:"material-icons medium"},[t._v("insert_emoticon")]),t._v(" "),i("h5",[t._v("Smiley")]),t._v(" "),i("p",{staticClass:"light center"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")])]),t._v(" "),i("div",{staticClass:"col-md text-center"},[i("i",{staticClass:"material-icons medium"},[t._v("insert_emoticon")]),t._v(" "),i("h5",[t._v("Smiley")]),t._v(" "),i("p",{staticClass:"light center"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")])]),t._v(" "),i("div",{staticClass:"col-md text-center"},[i("i",{staticClass:"material-icons medium"},[t._v("insert_emoticon")]),t._v(" "),i("h5",[t._v("Smiley")]),t._v(" "),i("p",{staticClass:"light center"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")])])])])}]},M=i("VU/8")(O,V,!1,null,null,null).exports,D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-wrapper",class:this.cssClasses},[e("div",{staticClass:"loading"})])},staticRenderFns:[]},$=i("VU/8")({name:"Loading",props:["type","centered","size"],computed:{cssClasses:function(){return[{"card centered":"card"===this.type,centered:this.centered},this.size]}}},D,!1,null,null,null).exports,q={name:"EditItem",props:["item"],components:{Modal:S,Loading:$},data:function(){return{title:""}},computed:Object(d.d)("items",["isSaving"]),mounted:function(){this.title=this.item._id?"Edit Item":"Add Item"},methods:u()({},Object(d.b)("items",["addOrUpdateItem"]),Object(d.b)("toasts",["addToast"]),{close:function(){w(this.$root)},saveItem:function(t){var e=this;this.addOrUpdateItem({item:t,onSuccess:function(){e.close(),e.addToast({text:U.editSuccess,type:"success"})},onError:function(t){e.close(),e.addToast({text:L(t),type:"error"})}})}})},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{on:{close:t.close}},[i("h2",[t._v(t._s(t.title))]),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.saveItem(t.item)}}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"item_title"}},[t._v("Title")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.title,expression:"item.title"}],staticClass:"form-control",attrs:{id:"item_title",type:"text",placeholder:"Title"},domProps:{value:t.item.title},on:{input:function(e){e.target.composing||t.$set(t.item,"title",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"sr-only",attrs:{for:"item_type"}},[t._v("Type")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.type,expression:"item.type"}],staticClass:"form-control",attrs:{id:"item_type",type:"text",placeholder:"Type"},domProps:{value:t.item.type},on:{input:function(e){e.target.composing||t.$set(t.item,"type",e.target.value)}}})]),t._v(" "),t.isSaving?i("Loading",{attrs:{size:"small",centered:"true"}}):i("div",[i("button",{attrs:{type:"submit"}},[t._v("Submit")]),t._v(" "),i("a",{staticClass:"btn btn-secondary",on:{click:t.close}},[t._v("Cancel")])])],1)])},staticRenderFns:[]},j=i("VU/8")(q,N,!1,null,null,null).exports,F={name:"Items",components:{Loading:$},computed:u()({},Object(d.d)("items",{items:"items",status:"listViewStatus",isLoading:"isLoading"}),Object(d.c)("items",["itemCount"])),mounted:function(){this.getItems()},methods:u()({},Object(d.b)("items",["getItems","deleteItem"]),Object(d.b)("toasts",["addToast"]),{showAddItemView:function(t){x(this.$root,j,{item:{title:"",type:""}})},showEditItemView:function(t){var e;x(this.$root,j,{item:(e=t,JSON.parse(T()(e)))})},showDeleteConfirmView:function(t){var e=this,i={message:"Are you sure you want to delete?",actions:[{label:"Yes",callback:function(){w(e.$root),e.deleteItem({item:t,onSuccess:function(){var t=U.deleteSuccess;e.addToast({text:t,type:"success"})},onError:function(t){var i=L(t);e.addToast({text:i,type:"error"})}})}},{label:"No",cancel:!0}]};A(this.$root,i)}})},P={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h1",{staticClass:"my-3"},[t._v("\n    Items "),t.itemCount?i("span",[t._v("("+t._s(t.itemCount)+")")]):t._e(),t._v(" "),i("a",{staticClass:"btn float-right",on:{click:function(e){t.showAddItemView()}}},[t._v("Add Item")])]),t._v(" "),t.isLoading?i("Loading",{attrs:{type:"card"}}):t.itemCount>0?i("div",[i("ul",{staticClass:"list-group"},t._l(t.items,function(e){return i("li",{key:e._id,staticClass:"list-group-item item"},[i("div",{staticClass:"item-actions float-right mt-1"},[e.isDeleting?i("Loading",{attrs:{size:"small"}}):i("div",[i("a",{staticClass:"float-right icon-link pt-2",on:{click:function(i){t.showDeleteConfirmView(e)}}},[i("i",{staticClass:"material-icons"},[t._v("delete")])]),t._v(" "),i("a",{staticClass:"float-right icon-link pt-2",on:{click:function(i){t.showEditItemView(e)}}},[i("i",{staticClass:"material-icons"},[t._v("mode_edit")])])])],1),t._v(" "),i("h5",{staticClass:"mb-0 text-truncate"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"text-muted"},[t._v(t._s(e.type))])])}))]):t._e(),t._v(" "),t.status?i("div",{staticClass:"alert alert-danger",domProps:{textContent:t._s(t.status)}}):t._e()],1)},staticRenderFns:[]},R=i("VU/8")(F,P,!1,null,null,null).exports;s.a.use(h.a);var H=new h.a({mode:"history",routes:[{path:"/",name:"Home",component:M},{path:"/items",name:"Items",component:R}]}),G=i("bOdI"),Y=i.n(G),z=i("woOf"),W=i.n(z),J=i("//Fk"),Q=i.n(J),B=i("pFYg"),K=i.n(B);function X(t,e,i){return function(t,e){return t="/api"+t,(e?fetch(t,e):fetch(t)).then(Z)}(t,function(t,e){var i={};e&&(i.method=e);t&&("object"===(void 0===t?"undefined":K()(t))?i.body=T()(t):i.body=t,i.headers={"Content-Type":"application/json"});return i}(e,i))}function Z(t){var e=t.headers.get("content-type");if(!e||e.includes("text/html"))return function(t){return t.text().then(function(e){return t.ok?e:Q.a.reject(W()({},{status:t.status,statusText:t.statusText,err:e}))})}(t);if(e.includes("application/json"))return function(t){return t.json().then(function(e){return t.ok?e:Q.a.reject(W()({},e,{status:t.status,statusText:t.statusText}))})}(t);throw new Error("Sorry, content-type "+e+" not supported")}var tt,et,it=function(){return X("/items",t);var t},st=function(t){return X("/items",t,"POST")},nt=function(t){return X("/items/"+t._id,t,"PUT")},at=function(t){return X("/items/"+t._id,e,"DELETE");var e},ot={namespaced:!0,state:{items:[],listViewStatus:null,isLoading:!1,isSaving:!1},getters:{itemCount:function(t){return t.isLoading||t.listViewStatus?"":t.items.length}},mutations:(tt={},Y()(tt,"SET_ITEMS",function(t,e){t.items=e}),Y()(tt,"ADD_ITEM",function(t,e){t.items.push(e)}),Y()(tt,"UPDATE_ITEM",function(t,e){var i=t.items.findIndex(function(t){return t._id===e._id});t.items.splice(i,1,e)}),Y()(tt,"DELETE_ITEM",function(t,e){var i=t.items.findIndex(function(t){return t._id===e._id});t.items.splice(i,1)}),Y()(tt,"SET_LIST_VIEW_STATUS",function(t,e){t.listViewStatus=e}),Y()(tt,"SET_LOADING_STATUS",function(t,e){t.isLoading=e}),Y()(tt,"SET_SAVING_STATUS",function(t,e){t.isSaving=e}),tt),actions:{getItems:function(t){var e=t.commit;return e("SET_LOADING_STATUS",!0),it().then(function(t){t&&t.length>0?e("SET_ITEMS",t):e("SET_LIST_VIEW_STATUS",U.noItems),e("SET_LOADING_STATUS",!1)}).catch(function(t){e("SET_LIST_VIEW_STATUS",L(t)),e("SET_LOADING_STATUS",!1)})},addOrUpdateItem:function(t,e){var i=t.commit,s=e.item,n=e.onSuccess,a=e.onError;i("SET_SAVING_STATUS",!0);var o=!s._id,r=o?st(s):nt(s);return r=r.then(function(t){o?i("ADD_ITEM",t):i("UPDATE_ITEM",s),i("SET_SAVING_STATUS",!1),n()}).catch(function(t){i("SET_SAVING_STATUS",!1),a(t)})},deleteItem:function(t,e){var i=t.commit,s=e.item,n=e.onSuccess,a=e.onError;return s.isDeleting=!0,i("UPDATE_ITEM",s),at(s).then(function(){i("DELETE_ITEM",s),n()}).catch(function(t){delete s.isDeleting,i("UPDATE_ITEM",s),a(t)})}}},rt=0,ct={namespaced:!0,state:{toasts:[]},mutations:(et={},Y()(et,"ADD_TOAST",function(t,e){t.toasts.push(e)}),Y()(et,"REMOVE_TOAST",function(t,e){t.toasts=t.toasts.filter(function(t){return t.id!==e.id})}),et),actions:{addToast:function(t,e){var i=t.commit;e.id=rt++,e.dismissAfter=e.dismissAfter||5e3,e.type=e.type||"info",i("ADD_TOAST",e),setTimeout(function(){i("REMOVE_TOAST",e)},e.dismissAfter)},removeToast:function(t,e){(0,t.commit)("REMOVE_TOAST",e)}}};s.a.use(d.a);var lt=new d.a.Store({modules:{toasts:ct,items:ot},strict:!1});i("qb6w"),i("tx+t"),s.a.config.productionTip=!1,new s.a({el:"#app",router:H,store:lt,components:{App:f},template:"<App/>"})},qb6w:function(t,e){},"tx+t":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f5626065a3788ee6cc7c.js.map